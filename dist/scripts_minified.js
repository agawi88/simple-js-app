let pokemonRepository=function(){let t=[];function e(e){"object"==typeof e&&"name"in e&&"detailsUrl"in e?t.push(e):console.log("Pokemon is not correct")}function n(){return t}function o(t){return fetch(t.detailsUrl).then(function(t){return t.json()}).then(function(e){t.name=e.name,t.imageUrl=e.sprites.front_default,t.height=e.height,t.weight=e.weight,t.types=e.types.map(t=>t.type.name)}).catch(function(t){console.error(t)})}function i(t){let e=$(".modal-body"),n=$(".modal-title"),o=$(".modal-header");o.empty(),n.empty(),e.empty();let i=$("<h1>"+t.name+"</h1>"),a=$("<p>Height: "+t.height+" ft</p>"),l=$("<p>Weight: "+t.weight+" lbs</p>"),r=$("<p>Type(s): "+t.types.join(", ")+"</p>"),p=document.createElement("img");p.setAttribute("src",t.imageUrl),p.setAttribute("alt","Pokemon image"),p.setAttribute("height","150px"),p.classList.add("rounded"),o.append(n),n.append(i),e.append(a),e.append(l),e.append(r),e.append(p),$("#exampleModal").modal("handleUpdate")}function a(t){o(t).then(function(){i(t)})}return{add:e,getAll:n,addListItem:function t(e){let n=document.querySelector(".pokemon-list"),o=document.createElement("li");o.classList.add("col-sm-4");let i=document.createElement("button");i.innerText=e.name,i.setAttribute("data-toggle","modal"),i.setAttribute("data-target","#exampleModal"),i.classList="btn btn-warning btn-lg btn-block",i.addEventListener("click",function(t){a(e)}),o.appendChild(i),n.appendChild(o)},loadList:function t(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){e({name:t.name,height:t.height,detailsUrl:t.url})})}).catch(function(t){console.error(t)})},loadDetails:o,showDetails:a,showModal:i}}();function newItem(){$("#myInput").val("")}pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})}),Object.keys(pokemonRepository.getAll()).forEach(function(t){console.log(t+": "+pokemonRepository.getAll()[t]+"<br>")}),$(document).ready(function(){$("#myInput").on("keyup",function(){var t=$(this).val().toLowerCase();$("#myList li").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(t)>-1)})})});